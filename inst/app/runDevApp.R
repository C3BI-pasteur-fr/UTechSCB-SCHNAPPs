#' this is used to run the app without installing it.
#'
#'
library(reactlog)
# if (!exists(".schnappsEnv")) {
.schnappsEnv <- new.env(parent=emptyenv())
# }

localContributionDir = "~/Rstudio/SCHNAPPsContributions/"
# localContributionDir = ""
defaultValueSingleGene = "itgae" # CD52
defaultValueMultiGenes = "CD52, S100A9, S100A4" # itgae, cd69, itga1" # CD52, S100A9, S100A4
# defaultValueMultiGenes = "prf1, Gzmb, IFNG, PDCD1, HAVCR2, LAG3, TSC22D3,ZFP36L2"
defaultValueRegExGene = "" # tip: '^CD7$|^KIT$; genes with min expression
DEBUG = T
DEBUGSAVE = F
historyPath = "~/Rstudio/Schnapps/history"
historyPath = NULL

assign(".SCHNAPPs_locContributionDir", localContributionDir, envir = .schnappsEnv)
assign(".SCHNAPPs_defaultValueSingleGene", defaultValueSingleGene, envir = .schnappsEnv)
assign(".SCHNAPPs_defaultValueMultiGenes", defaultValueMultiGenes, envir = .schnappsEnv)
assign(".SCHNAPPs_defaultValueRegExGene", defaultValueRegExGene, envir = .schnappsEnv)
assign(".SCHNAPPs_DEBUG", DEBUG, envir = .schnappsEnv)
assign(".SCHNAPPs_DEBUGSAVE", DEBUGSAVE, envir = .schnappsEnv)
assign("localContributionDir", localContributionDir, envir = .schnappsEnv)
assign("defaultValueSingleGene", defaultValueSingleGene, envir = .schnappsEnv)
assign("defaultValueMultiGenes", defaultValueMultiGenes, envir = .schnappsEnv)
assign("defaultValueRegExGene", defaultValueRegExGene, envir = .schnappsEnv)
assign("DEBUG", DEBUG, envir = .schnappsEnv)
assign("DEBUGSAVE", DEBUGSAVE, envir = .schnappsEnv)
assign("historyPath", historyPath, envir = .schnappsEnv)
ls(.schnappsEnv)


# # Scran parameters
# defaultValues = list()
# defaultValues[["coEtgMinExpr"]] = 100
# defaultValues[["pcaScale"]] = FALSE
# defaultValues[["cellsFiltersOut"]] = "D2ex_54, D2ex_64, D2ex_93, D2ex_95, D2ex_96, D3en1_8, D3en1_9, D3en1_12, D3en1_14, D3en1_15, D3en1_18, D3en1_19, D3en1_20, D3en1_21, D3en1_22, D3en1_23, D3en1_25, D3en1_31, D3en1_32, D3en1_34, D3en1_35, D3en1_36, D3en1_39, D3en1_43, D3en1_44, D3en1_47, D3en1_51, D3en1_52, D3en1_53, D3en1_57, D3en1_58, D3en1_59, D3en1_61, D3en1_62, D3en1_64, D3en1_66, D3en1_70, D3en1_72, D3en1_74, D3en1_76, D3en1_77, D3en1_78, D3en1_80, D3en1_82, D3en1_86, D3en1_91, D3en1_92, D3en1_95, D3en1_96, D3en2_1, D3en2_4, D3en2_8, D3en2_9, D3en2_10, D3en2_11, D3en2_14, D3en2_15, D3en2_18, D3en2_19, D3en2_20, D3en2_28, D3en2_29, D3en2_34, D3en2_35, D3en2_36, D3en2_40, D3en2_41, D3en2_43, D3en2_44, D3en2_46, D3en2_47, D3en2_49, D3en2_53, D3en2_54, D3en2_59, D3en2_65, D3en2_67, D3en2_69, D3en2_70, D3en2_75, D3en2_76, D3en2_77, D3en2_78, D3en2_79, D3en2_80, D3en2_82, D3en2_84, D3en2_86, D3en2_87, D3en2_88, D3en2_89, D3en2_95, D3en2_96, D3en3_3, D3en3_4, D3en3_12, D3en3_13, D3en3_14, D3en3_15, D3en3_17, D3en3_19, D3en3_20, D3en3_22, D3en3_23, D3en3_24, D3en3_25, D3en3_26, D3en3_31, D3en3_33, D3en3_35, D3en3_37, D3en3_38, D3en3_42, D3en3_43, D3en3_45, D3en3_47, D3en3_49, D3en3_56, D3en3_57, D3en3_58, D3en3_60, D3en3_61, D3en3_62, D3en3_63, D3en3_66, D3en3_69, D3en3_70, D3en3_71, D3en3_76, D3en3_79, D3en3_88, D3en3_90, D3en3_91, D3en3_93, D3en3_96, D3en4_1, D3en4_5, D3en4_10, D3en4_11, D3en4_13, D3en4_15, D3en4_17, D3en4_18, D3en4_21, D3en4_24, D3en4_27, D3en4_28, D3en4_29, D3en4_34, D3en4_36, D3en4_37, D3en4_40, D3en4_44, D3en4_45, D3en4_49, D3en4_50, D3en4_51, D3en4_52, D3en4_53, D3en4_55, D3en4_57, D3en4_59, D3en4_62, D3en4_66, D3en4_67, D3en4_70, D3en4_75, D3en4_76, D3en4_77, D3en4_78, D3en4_79, D3en4_80, D3en4_88, D3en4_93, D3en4_94, D3en4_95, D3ex_1, D3ex_2, D3ex_7, D3ex_8, D3ex_10, D3ex_11, D3ex_13, D3ex_14, D3ex_15, D3ex_17, D3ex_18, D3ex_19, D3ex_20, D3ex_21, D3ex_22, D3ex_23, D3ex_25, D3ex_26, D3ex_27, D3ex_28, D3ex_29, D3ex_30, D3ex_31, D3ex_32, D3ex_33, D3ex_35, D3ex_37, D3ex_38, D3ex_42, D3ex_43, D3ex_44, D3ex_45, D3ex_46, D3ex_47, D3ex_49, D3ex_50, D3ex_52, D3ex_53, D3ex_56, D3ex_57, D3ex_58, D3ex_59, D3ex_60, D3ex_61, D3ex_62, D3ex_63, D3ex_64, D3ex_65, D3ex_67, D3ex_69, D3ex_70, D3ex_72, D3ex_73, D3ex_75, D3ex_78, D3ex_79, D3ex_80, D3ex_81, D3ex_82, D3ex_84, D3ex_85, D3ex_86, D3ex_89, D3ex_93, D3ex_94, D3ex_95, D3ex_96, D74_4, D74_11, D74_19, D74_30, D74_38, D74_50, D74_72, D74_80, D71_13, D71_24, D71_25, D71_46, D71_50, D71_74, D71_77, D71_96, D72_6, D72_17, D72_26, D72_51, D72_56, D72_60, D73_53, D73_66, D73_74, D73_75, D73_77, D73_80, D73_88, D10631_1, D10631_6, D10631_13, D10631_16, D10631_28, D10631_30, D10631_31, D10631_32, D10631_35, D10631_49, D10631_59, D10631_77, D10631_86, D101_2, D101_3, D101_4, D101_6, D101_9, D101_12, D101_15, D101_18, D101_19, D101_20, D101_23, D101_26, D101_30, D101_32, D101_33, D101_38, D101_39, D101_40, D101_41, D101_47, D101_49, D101_54, D101_55, D101_60, D101_61, D101_62, D101_63, D101_64, D101_65, D101_67, D101_68, D101_70, D101_71, D101_75, D101_76, D101_78, D101_79, D101_80, D101_85, D101_86, D101_87, D101_90, D101_92, D101_94, D101_96, D102_2, D102_5, D102_8, D102_9, D102_10, D102_12, D102_13, D102_15, D102_16, D102_19, D102_20, D102_22, D102_23, D102_27, D102_28, D102_29, D102_30, D102_31, D102_32, D102_33, D102_34, D102_35, D102_36, D102_37, D102_38, D102_41, D102_42, D102_43, D102_44, D102_46, D102_48, D102_49, D102_52, D102_53, D102_56, D102_60, D102_62, D102_65, D102_67, D102_70, D102_72, D102_74, D102_77, D102_84, D102_85, D102_88, D102_89, D102_90, D102_92, D102_95, D17All1_13, D17All1_94, D17All2_5, D17All2_50, D17All2_89, D17TGFB_60, D17TGFB_62, D2ex_94, D3en1_40, D3en2_51, D3en3_18, D3en3_40, D3en3_77, D3en3_81, D3en3_83, D3en4_90, D3en4_96, D74_48, D74_84, D74_96, D71_89, D72_94, D73_47, D10631_47, D10631_75, D10631_78, D10631_79, D10631_80, D10631_83, D10631_84, D10631_94, D101_8, D101_11, D101_46, D102_47, D102_80, D102_81, D102_83, D172444_94, D172444_95, D172444_96, D17All1_14, D17All1_15, D17All1_17, D17All1_85, D17All2_96, D17TGFB_96"
# defaultValues[["selectIds"]] = ""
# defaultValues[["sampleInput"]] =FALSE
# defaultValues[["whichscLog"]] = "calcLog"
# defaultValues[["normalizationRadioButton"]] = "DE_scaterNormalization"
# defaultValues[["pcaN"]] = 951
# defaultValues[["tabsetCluster"]] = "snnGraph"
# defaultValues[["minGenesGS"]] = 1
# defaultValues[["pcaRank"]] = 14
# defaultValues[["minGenes"]] = 1
# defaultValues[["alluiv1"]] = "cluster"
# defaultValues[["alluiv2"]] = "dbCluster"
# defaultValues[["pcaCenter"]] =FALSE


# Seurat parameters
defaultValues = list()
defaultValues[["cellsFiltersOut"]] = paste("6_AACTCCCAGTACGTAA, 6_ATTTCTGTCCCATTAT, 6_CGATTGAAGTCGAGTG, 6_CTCAGAAGTCGGGTCT, 6_CTCGGGAGTTACAGAA, 6_CTTCTCTGTAACGTTC, 6_GAACATCGTCGCATCG, 6_TCAGGATCATCGGTTA, 6_TCGCGAGAGCCTCGTG, 7_CATGCCTTCTCCTATA, 7_CGTCTACTCACAGGCC, 7_TCTATTGCACGGACAA, 22_TGGACGCAGGCATGGT, 27_TTGCGTCAGCTGCGAA, 33_AAATGCCCACCGAAAG, 33_ACTGATGGTACCCAAT, 33_AGAGCGACAAACTGTC, 33_AGGGAGTCAATGTAAG, 33_CTACCCATCAAGGCTT, 33_CTCAGAAAGGCCCGTT, 33_CTCGAAAGTCATACTG, 33_GAAACTCCAGTAAGAT, 33_GGGACCTTCGGACAAG, 33_GGGCACTTCATACGGT, 33_GTCATTTCAAGTACCT, 33_TACCTTACATGCCCGA, 33_TACTTACTCCTGCCAT, 33_TCAGGATGTTATCCGA, 33_TGAGGGAAGACAATAC, 34_GGCGTGTGTAGGCATG, 34_TGTCCCATCGTCTGAA, 38_GTACTTTCACTCGACG, 39_ACGATACGTCTTCTCG, 39_TGCTACCCAGGGTATG, 39_TTCTCCTTCACATGCA, 40_ACGATACGTCGACTGC, 40_AGTTGGTAGGAGTACC, 40_CAGCCGATCGTCTGCT, 40_CATGCCTAGCGGATCA, 40_CCACGGAGTTAAGATG, 40_CGGACGTAGTCTCAAC, 40_GGAACTTTCGTGGACC, 40_GTCACGGTCAGTTGAC, 40_TTCGGTCGTGGTTTCA, 43_ATCATCTGTGGACGAT, 43_CCTAGCTGTTGACGTT, 43_TCGTAGATCCTGCTTG, 43_TGGCGCAAGGCTAGCA, 44_ACTGTCCAGGTGCAAC, 44_CCGTTCAAGGCTAGCA, 44_CCTACACGTATAGGGC, 44_CTGGTCTTCTGCCAGG, 44_GACCTGGTCCCATTTA, 44_TCAGCAATCATTTGGG, 44_TCTGAGAGTTAGATGA, 6_AGGCCGTTCCGTTGCT, 6_TCTCATATCTCTTGAT, 7_GACTACACATCGATTG, 21_CCTATTAGTCACCCAG, 34_TCCCGATAGTAACCCT, 39_GCTGGGTCAGCATGAG, 39_TGGGCGTGTCCCGACA, 40_TCTTTCCAGTCAATAG, 6_AGCTCTCCAGTGAGTG, 40_GAGTCCGCACCGAAAG, 39_AATCCAGCATGCCTAA, 39_GGACGTCGTGGTCTCG, 6_CGGACTGCAAACGTGG, 7_TACCTATAGAGACTAT, 20_GCTGCTTTCTTGCAAG, 21_CCACGGATCGCGATCG, 21_TTATGCTCATGCTAGT, 22_CCTAGCTAGACTAAGT, 22_GACGGCTGTAGAGCTG, 22_GGGTTGCGTCAAAGAT, 22_TTTGCGCCACATTTCT, 27_ATTGGTGCAAGCTGTT, 27_GCAGTTAGTTCCTCCA, 28_CGTTAGACAAGACGTG, 33_AGTGGGAAGGCGTACA, 33_CCGGTAGGTATCACCA, 33_CCTACCACACTTAAGC, 33_CTTCTCTTCAATCACG, 33_GATCTAGCACATGGGA, 33_GTAACTGGTCGACTGC, 33_TCGCGAGAGGGATCTG, 34_ACGCCAGCATGTTGAC, 34_CCTCAGTTCAGTGTTG, 34_GAGGTGATCACATGCA, 34_GCTTCCATCATCGATG, 34_GGAGCAAGTTTAGGAA, 34_TGCCCTAAGAAAGTGG, 34_TTGCGTCTCTCTAAGG, 40_CGGTTAATCAACACAC, 7_TCGCGTTAGCGTCTAT, 28_CGCCAAGCAACACCTA, 21_ATTCTACGTGATAAGT, 6_CATCCACCAGACACTT, 20_CATCGAAGTTGCCTCT, 21_CTGAAGTCATTATCTC, 22_ATCATCTGTTATGTGC, 22_ATGGGAGAGGGAAACA, 22_CGATCGGAGCTGGAAC, 27_ATCGAGTGTGGTGTAG, 27_GGTGCGTCACGGTGTC, 27_GTCACAAAGCCCAATT, 28_AACTCAGAGTCCCACG, 28_CAACTAGGTAACGCGA, 28_CAGCGACTCTTCAACT, 28_CCCAGTTTCTGCCCTA, 28_TGGACGCCATGCCCGA, 33_AGCAGCCGTCACAAGG, 33_CCATGTCAGCGATAGC, 33_CCTACACAGCTTCGCG, 33_CGGACACTCTCGGACG, 33_CGTTCTGCAAGCTGGA, 33_CTCAGAAGTCATCCCT, 33_CTTTGCGTCAGCATGT, 34_AAAGCAATCATCGCTC, 34_AAGCCGCGTGAGCGAT, 34_CAGTCCTAGCCAACAG, 34_CATCAAGCACGAAACG, 34_GATCGTACACGGATAG, 34_GTTCGGGTCACTCTTA, 34_TGAGGGATCTGGCGTG, 34_TGCTGCTGTTTGTTTC, 37_GCACATACACAGATTC, 38_TCGTAGAAGGACACCA, 39_CGGAGCTCATGTAGTC, ",
"39_CTGCTGTGTAAATACG, 39_GATTCAGTCGCAAACT, 39_GGTGAAGTCTTAGCCC, 39_TAAACCGTCCTATTCA, 40_ATGAGGGCAACACGCC, 40_CTGAAGTTCCGCATCT, 40_TGTGGTAAGACCTAGG, 6_AACTGGTTCCGTCAAA, 6_CTACATTAGCGTGAGT, 7_GTACTCCCATTAGGCT, 7_GTAGTCAGTCGCGAAA, 20_GGCCGATTCCGCGTTT, 20_GTGCAGCAGAAGATTC, 21_GCAATCAAGTCCCACG, 22_AGGGTGATCGTTTGCC, 22_CTAATGGTCTACTTAC, 22_GACCTGGTCTAGCACA, 22_GCTCCTACAATAGCGG, 27_GAGCAGAGTGGTTTCA, 27_TTAGGCATCAGTTAGC, 33_CCTTTCTGTCAGTGGA, 33_GATGCTAGTTATTCTC, 34_AAAGCAAAGCAGCGTA, 34_ATCTGCCTCAGTTAGC, 34_CAGTAACCATCAGTCA, 34_CCCTCCTGTGCTGTAT, 34_GCTCTGTTCCCATTTA, 34_TGGCTGGAGGTGATTA, 38_GTCCTCATCGCAGGCT, 39_CGAGCACAGACAGACC, 39_CTCGTACGTACCGTAT, 39_GACGTGCCATTATCTC, 40_ACGATACCACATAACC, 40_CCAGCGAAGAGGACGG, 40_GACTGCGCAGATGGCA, 40_GTCGGGTCAACTGGCC, 40_GTTCGGGCACCAGGTC, 40_TAAACCGGTAAGAGAG, 43_TCTTTCCTCTGCGGCA, 44_CTGCTGTAGTCTCAAC, 6_CCATGTCTCACAGTAC, 6_CCCATACTCGTTGACA, 6_CTAATGGAGTGTCTCA, 6_GATCGATTCCCTAATT, 6_GGACGTCCATGCATGT, 6_GGGAATGCAGGATTGG, 6_GTCACAAAGCAATATG, 6_GTGTTAGGTCGGGTCT, 7_CCTACCACACCGAAAG, 7_TCACAAGTCGAATGCT, 19_ACAGCCGTCCACGTGG, 19_ACATGGTTCTTGCAAG, 19_CATATGGAGAGGGATA, 19_CATATTCTCCAATGGT, 19_CATGCCTTCTCCAGGG, 20_ACTGTCCCAGCGTAAG, 20_CCCTCCTGTCAAAGAT, 20_GAAGCAGAGCATCATC, 20_GAGCAGAAGTGCGATG, 20_GCGACCAGTTCGAATC, 20_GCTTCCAAGTAACCCT, 20_GTCTCGTGTGCTCTTC, 20_TACAGTGGTTCCACAA, 20_TACGGGCAGTGGTCCC, 20_TACTTACTCACAGGCC, 20_TCAATCTTCCACGAAT, 20_TCGTAGAAGCAGGTCA, 20_TCTCATAAGTGGGTTG, 20_TGCCCATTCTTATCTG, 20_TGTGTTTTCACCATAG, 21_AAGCCGCCACCGATAT, 21_ACTGTCCCAGCCAATT, 21_AGAATAGGTCACACGC, 21_GGTGCGTTCGTCTGCT, 22_AAGTCTGAGCCACGCT, 22_ACACCAACAGCTGTGC, 22_ACATGGTAGATCCTGT, 22_ACGGCCAAGTTAACGA, 22_ATAGACCCAAGCCGTC, 22_CACAAACTCGGAATCT, 22_CAGATCAAGATATACG, 22_CATCAGAGTCGAGTTT, 22_CGGGTCACACGGTTTA, 22_CGGGTCATCAACTCTT, 22_CGTTAGACAGCGATCC, 22_CTCATTAAGGAGTTTA, 22_GAGTCCGCAATAAGCA, 22_GATCGATTCACCATAG, 22_GATGAGGCAAGGGTCA, 22_GGGCACTCAGAGTGTG, 22_GTAACTGAGCGATTCT, 22_GTCGGGTCACATGGGA, 22_TAGGCATGTTGTTTGG, 22_TAGTTGGAGCGCCTTG, 22_TGACGGCTCCATTCTA, 22_TGGGAAGCAGCCTATA, 22_TTGCGTCCAACAACCT, 27_ACAGCTACAGCTATTG, 27_ACGATACAGAACAATC, 27_ACGATACCAAGCCGTC, 27_AGTAGTCGTAAGTTCC, 27_ATAGACCCATGATCCA, 27_CGAGCCATCGTGGTCG, 27_CTAATGGTCAGCTGGC, 27_GACTAACAGGCTAGCA, 27_GGACATTCATCAGTCA, 27_GGCAATTTCCACGACG, 27_TACACGAGTGTGCGTC, 28_AACCGCGTCAGCTGGC, 28_ACCGTAATCAGAGACG, 28_AGGGTGACACTCTGTC, 28_ATCATCTTCATCACCC, 28_CAGTCCTAGTATCGAA, 28_GCATGATCAGTCGATT, 28_GCGCGATCAGCTCGAC, 28_GCTCCTAAGTATCGAA, 28_GGGATGACAAGCTGTT, 28_TCACGAAAGCCAACAG, 33_AAGTCTGAGAAACCAT, 33_AAGTCTGTCCAGTAGT, 33_ATAGACCAGATGGGTC, 33_ATGGGAGGTGAGTGAC, 33_CACACTCTCTGTACGA, 33_CGAATGTTCTACGAGT, 33_CTGAAGTCAGGTGGAT, 33_CTTAGGACAATGAATG, 33_GACCTGGCATTGAGCT, 33_GATTCAGAGCACGCCT, 33_GCGCGATCAATGTTGC, 33_GCTCTGTCAAACGTGG, 33_GGGAGATCATCTCGCT,",
"33_GTACTTTTCTTTACAC, 33_TACCTTACACACCGCA, 33_TGCGGGTAGACGACGT, 33_TGGGAAGTCGCTGATA, 33_TTGGAACAGTGAAGTT, 33_TTGGCAACAAAGGCGT, 33_TTTATGCAGTAATCCC, 33_TTTGCGCTCAGAGCTT, 34_AACTCCCAGTTACCCA, 34_ACCAGTAAGTCAATAG, 34_ACCGTAAAGTTGCAGG, 34_ACTTACTTCCTTTACA, 34_AGCGTCGCAGCGTTCG, 34_AGGTCATGTGAGGCTA, 34_ATAGACCCATGCAATC, 34_ATCTGCCCACACCGCA, 34_CAACTAGGTGCCTGGT, 34_CAAGAAATCTGATTCT, 34_CAGAATCCATCAGTAC, 34_CAGTAACCATGTCCTC, 34_CATCAGACAGTGAGTG, 34_CATCCACCATGGATGG, 34_CCACGGAAGCCTTGAT, 34_CCGTGGAGTAAGAGAG, 34_CCGTTCACACCGTTGG, 34_CGTTCTGGTCCATCCT, 34_CTGCGGAGTACCGTAT, 34_CTGCTGTTCAGCACAT, 34_GAATAAGTCAAACAAG, 34_GATCTAGAGCGCCTCA, 34_GATTCAGGTCGTTGTA, 34_GCAAACTAGATCCCGC, 34_GGACAGATCAACCAAC, 34_GGACGTCCACGAAAGC, 34_GGGACCTAGACTAAGT, 34_GGTGTTATCGATAGAA, 34_GTCACGGGTCTCTTAT, 34_GTGCATACAGCTGGCT, 34_TCGGTAAGTCTGATCA, 34_TCTGAGAGTAAGAGGA, 34_TGACAACGTGGCGAAT, 34_TGCTACCCAGTATCTG, 34_TGTATTCAGTACCGGA, 34_TTAGGACAGGGAACGG, 37_AAAGTAGTCGCGATCG, 37_ACACCCTTCTGAGGGA, 37_CCACGGACACAAGCCC, 37_CCTAGCTGTCATCCCT, 37_CGCGTTTAGCATGGCA, 37_CGCTGGACAATGGATA, 37_GACTACAGTCCGACGT, 37_GCTCTGTGTCAGAGGT, 37_GTAGTCAGTCACTGGC, 38_ACGGAGATCTGGTGTA, 38_CGAGAAGAGGCGCTCT, 38_CTTGGCTGTTATCCGA, 38_GTCACAAAGCTCCTCT, 38_TAAGTGCCAATCCGAT, 39_AACACGTTCCGCATAA, 39_CATCCACTCTGCGACG, 39_CATGGCGTCGCCTGAG, 39_GCATGCGGTATTAGCC, 40_AATCCAGGTCAGTGGA, 40_ACGAGGACATGGGAAC, 40_AGTGAGGTCTTGAGGT, 40_CAGATCATCGCATGAT, 40_CAGCATATCCACGCAG, 40_CCAATCCCACTTCTGC, 40_CCTATTATCTGACCTC, 40_CGCCAAGCAGTCGTGC, 40_CTGAAACAGTACGCGA, 40_GACCAATAGTGCAAGC, ",
     "40_TCTTTCCAGGATTCGG, 40_TGAAAGACACCATCCT, 44_AAGGTTCGTTGCCTCT, 44_ATTGGTGCACCTCGGA, 44_CAGCTGGAGGATGGTC, 44_CGTCTACCACCAGGTC, 44_CTGAAACCAAATCCGT, 44_GACTAACAGTAGCGGT, 44_TACTTACCACACAGAG, 44_TAGGCATTCTTTAGTC, 40_TCATTTGTCGCCGTGA, 6_CCACGGAGTGCGATAG, 6_GCAAACTTCAAACCGT, 6_GCACTCTTCCGCATCT, 19_TGGACGCGTCACACGC, 21_ATCTGCCAGCCCAACC, 21_GGGAATGTCAACCAAC, 21_TCACGAAAGGTGCAAC, 22_GGCCGATGTGAACCTT, 22_TGAGAGGCATGAAGTA, 22_TGGACGCCAGATCGGA, 27_CTACCCAAGATGGCGT, 28_ATAAGAGAGCATCATC, 33_CAAGGCCCAAGTACCT, 33_TCTTTCCAGGAGCGTT, 34_ACACCCTGTACCGTTA, 34_ACTGATGCATCACGAT, 34_CAACCAATCGTCCGTT, 34_CCCAATCGTAGCGCAA, 37_CCTTCGAAGCTGTCTA, 37_TGTATTCCACTTACGA, 40_CCGTTCATCATCGATG, 40_CTCATTAAGTCACGCC, 43_CGGAGCTCAATCACAC, 6_GCATGTACAGTATCTG, 7_CTCACACTCACCAGGC, 7_CTCGAGGAGCAAATCA, 19_CGGACTGTCTATCCCG, 20_GTACTTTTCAGTCCCT, 22_AGCCTAAGTCGAATCT, 22_CAGAGAGAGTACGTAA, 27_GGAGCAATCGGCGCTA, 33_CCCATACAGAAACGAG, 33_GGAATAATCCGTAGTA, 34_ATCATCTCACGGCGTT, 34_TACTCATAGAATGTGT, 40_AACTGGTTCTTACCGC, 40_TGGGCGTTCGCATGGC, 40_TTTACTGAGGCAAAGA, 19_ACTGAACCAAGGCTCC, 19_CAGCTAATCTGAGGGA, 19_TTGAACGAGGGCATGT, 20_CTCTGGTCAGGTTTCA, 20_GGGATGACATGCCCGA, 21_ATCGAGTGTTGGGACA, 21_CATATGGGTTTGTGTG, 21_GCACATAGTCCTCTTG, 21_GCTCTGTGTTCTGAAC, 21_GGGAGATGTCCTCTTG, 22_CAAGGCCTCACATGCA, 22_CAGCTAATCTTGTATC, 22_CTGCGGAGTCTCGTTC, 22_TGTGTTTGTTCAGACT, 27_AAGGTTCTCCAGAAGG, 27_GCAGCCATCTACTATC, 27_GGGAATGCACACTGCG, 27_GTCACGGCACACTGCG, 27_TTGGAACCACATTAGC, 28_CATTATCCAAGGTGTG, 28_CCTAGCTGTGGTCTCG, 28_CGCTGGACATATACGC, 28_GAACGGAAGTTCCACA, 28_GCTGCAGAGTCACGCC, 28_GGGAGATGTAATCACC, 28_GGGATGACAGGGCATA, 33_CGATCGGGTCGAAAGC, 33_TTAGGCAAGGCCCTTG, 33_TTCTACAAGGCCATAG, 34_CTACATTCACCATCCT, 34_GAACATCGTAGAAGGA, 34_GGGAATGCAGTCTTCC, 34_GGTATTGTCACTCTTA, 34_TCCACACGTAGCGTAG, 34_TGTATTCCAGCGAACA, 34_TTAGGACCAGCGTTCG, 37_CTCGTCAAGCCCAATT, 37_TTGCCGTCACAGACTT, 38_CGCTTCATCGTAGGTT, 38_TACTTGTTCCGTCATC, 38_TCCACACAGGTACTCT, 39_ACGAGGAAGCTTTGGT, 39_AGGGTGAAGGCTAGAC, 39_GGAATAAGTAGAAAGG, 40_TCTATTGGTTACGCGC, 43_CACATTTTCGAGCCCA, 44_AACTTTCAGCAGCCTC, 44_AGTGGGACATCCGCGA, 44_GTCCTCAAGGATGTAT, 44_GTCCTCAGTTCTCATT, 7_TTTGTCACACCGTTGG, 19_TAGTTGGGTCATCCCT, 21_ACGCCAGCACCCAGTG, 22_AACACGTTCTTGCATT, 27_CTTTGCGTCGTGGTCG, 37_GGGTTGCCAAGCTGGA, 38_ATCATCTTCATATCGG, 28_AGAGCTTAGTGACATA, 21_CCAATCCTCGGATGGA, 21_GTAACGTCACAGGCCT, 22_GAACATCCACCTGGTG, 22_GAACGGACAGTGACAG, 28_AAGACCTGTGAGTATA, 28_ATGCGATGTTCCTCCA, 33_CACTCCACATGCCACG, 33_CCATTCGAGGCTACGA, 33_CCGTTCATCAACGGGA, 34_AACTTTCGTTGATTCG, 34_CAGAGAGGTGAGGGTT, 34_GGGTCTGCAAGTCATC, 34_GTTCTCGAGACAGACC, 34_TCGCGTTAGGGCTCTC, 37_AGCTTGATCCAGAAGG, 38_TGAAAGACAGTATCTG, 39_ACATACGGTGACTCAT, 39_ATGGGAGCAGACAGGT, 39_TCACAAGTCGCTAGCG, 40_CAACTAGGTGTTCGAT, 40_CACACAAGTCTCACCT, 44_TCAGGTATCAACACCA, 39_CTCGTCATCAAACGGG, ",
"33_CAAGATCTCATGCAAC, 33_GGGTCTGAGAAACGCC, 34_AACTGGTCAAGAGTCG, 34_TCGTAGAGTGGACGAT, 39_AGCTCTCAGTATCTCG, 6_ATCCACCGTAAGTGTA, 6_GTTCTCGCAGACGCCT, 6_TCAACGAAGGCCCTTG, 6_TCGCGAGGTAGGCATG, 6_TGCACCTTCTGGTTCC, 6_TGGTTCCGTCGTTGTA, 6_TTTGTCAGTGTTAAGA, 7_GTGTTAGAGCCCAACC, 7_TGGCCAGCACGTCTCT, 19_AGTGTCAGTGAACCTT, 19_CCTAAAGGTTAAAGAC, 19_GGGACCTGTGTGACGA, 19_TAAGCGTGTGTGCCTG, 20_ATCTGCCAGAGTGAGA, 20_CCTAGCTTCAAAGACA, 20_GATCGCGTCTCGCTTG, 20_GGCTGGTGTTGCGCAC, 20_GTGTTAGAGTCCTCCT, 20_TACAGTGGTGCGAAAC, 20_TATCTCAGTTCCACTC, 21_ACTGAACCACGGCCAT, 21_CACACAACACGAGAGT, 21_CTCAGAAGTCTGCCAG, 21_GCACATATCCTCATTA, 21_GCATGTAAGGACTGGT, 21_GCTGCAGAGAGCCTAG, 21_GGAATAAAGGAGTACC, 21_GGGCACTCATGTCTCC, 22_AAGCCGCTCCTTTCTC, 22_ATCTGCCAGATCCCAT, 22_CGGAGTCCATCACAAC, 22_CTGAAGTAGCTGATAA, 22_CTGATAGCATGGTCAT, 22_GCTGCAGTCCTAGAAC, 22_GGCTGGTCAGGTCGTC, 22_GTACTCCTCATATCGG, 22_TCCACACCACATGTGT, 22_TGACTTTAGGGAAACA, 22_TGCCCTAGTGCAACGA, 27_AACTTTCTCGGTTCGG, 27_AAGACCTTCAAACCAC, 27_ATTACTCGTATATGAG, 27_CAACTAGCAGTATCTG, 27_CACCTTGTCATCATTC, 27_CACTCCACACAGCCCA, 27_CCAGCGACAGTAGAGC, 27_CCTTTCTCAAGTCATC, 27_CGAACATAGACAAAGG, 27_CTTACCGAGTATGACA, 27_GTAACGTTCGGCTTGG, 27_GTCGTAATCATGTGGT, 27_TCGTAGACACATGACT, 27_TGACGGCAGCTCAACT, 27_TGAGGGAGTTGAGTTC, 27_TGGGAAGGTGATGTGG, 28_AACCATGCACGAAGCA, 28_ACACCAAAGTTGAGAT, 28_ACATGGTAGAAACCGC, 28_ACGGCCACACCGCTAG, 28_ATAAGAGTCAGGCCCA, 28_CCCATACTCTGATACG, 28_GATCGATTCTTCTGGC, 28_GCGCAGTAGCGCTCCA, 28_GGACATTTCAGTACGT, 28_GGCCGATGTCGATTGT, 28_GGTGTTACAGTAAGCG, 28_GTGCAGCAGGGCTTCC, 28_TAGAGCTGTATAGGTA, 28_TAGGCATCAAGAGGCT, 28_TCACGAAGTGTTTGTG, 28_TTAGGACGTAAGTGGC, 33_AACTTTCAGGCCCGTT, 33_AGCTTGATCATTCACT, 33_AGGGTGAAGCTGTTCA, 33_CCTCAGTGTCAGATAA, 33_CGAATGTGTGTAAGTA, 33_CGATGGCCAGATGAGC, 33_GACGGCTCAATGCCAT, 33_GGAATAAAGAATGTTG, 33_GGGAATGAGATTACCC, 33_GGGATGAAGTTGAGAT, 33_GTGCGGTCATGTCCTC, 33_GTGTTAGTCCGTTGTC, 33_TAGACCACAGCTCCGA, 33_TCTGGAATCAGAGGTG, 33_TTCGGTCAGCGTTGCC, 33_TTTATGCTCGCACTCT, 33_TTTGGTTGTTGTCGCG, 34_AAATGCCCATCACGTA, 34_ACTGAACGTCCGAACC, 34_CACCAGGAGATGTAAC, 34_CAGAGAGGTGTTTGGT, 34_CAGCTGGGTCAGTGGA, 34_CATATGGGTTCAACCA, 34_CCGTACTGTCAAACTC, 34_CGGGTCAAGCTCTCGG, 34_CGTTGGGTCCCGACTT, 34_CTCATTAAGCGTCTAT, 34_CTCGTCAAGCTGCAAG, 34_CTGATAGAGAAGAAGC, 34_GACACGCAGTCGCCGT, 34_GAGGTGAGTCGACTGC, 34_GCTTGAAGTTTGTGTG, 34_GGACGTCGTCAGAGGT, 34_GGGATGAGTACACCGC, 34_GTTAAGCGTGAGCGAT, 34_TAAACCGTCTTTCCTC, 34_TACGGATCACCTTGTC, 34_TGACTTTAGTACACCT, 34_TGCCCATAGATCTGCT, 34_TTAACTCCACCAACCG, 34_TTGCGTCTCCTATGTT, 37_CACACAACATACCATG, 37_CACATTTTCTACCAGA, 37_CCACGGAGTTATTCTC, 37_CGCTATCTCAGCTCTC, 37_GACTAACCATCGGAAG, 37_GATGAGGGTTTGCATG, 37_GCAGTTACATCATCCC, 37_GGAACTTGTACGCTGC, 37_TAGGCATAGTGGACGT, 37_TATGCCCAGACCACGA, 37_TCTATTGAGCAGACTG, 38_ACTGAGTGTGGTGTAG, 38_ATAGACCTCCATGAGT, 38_ATTATCCTCTCAAACG,",
"38_CCGGGATGTGGCAAAC, 38_CGGACACAGGTTCCTA, 38_TACTTGTCATCTACGA, 39_CGCGTTTTCAACGAAA, 39_GATCAGTCAATCCAAC, 39_GTACGTAGTGACCAAG, 39_TAGACCATCTCCCTGA, 40_AGGCCACCATGTCTCC, 40_CACCTTGGTCGCGAAA, 40_CAGCAGCCAGCTGCTG, 40_CAGCTAAGTGCGCTTG, 40_GCGCAGTGTGTTGAGG, 40_GCTGCTTGTCCTCTTG, 40_TACGGTATCGTGGACC, 40_TCTTTCCAGCGCCTCA, 43_GATTCAGAGGTAGCCA, 43_TACTCGCGTAATCACC, 43_TCACGAAGTTACGACT, 43_TGCACCTTCGACCAGC, 44_CCTTCGACATTGAGCT, 27_CGCTTCACAACGATCT, 28_ACTTGTTTCTCAAACG, 34_TTTCCTCGTAAGAGAG, 33_CGTCAGGCAAGCGTAG, 33_TACACGAAGTCCATAC, 34_GGGCACTAGTGGGCTA, 6_CACCAGGAGAAGGTTT, 7_CTAACTTGTAATTGGA, 7_GAAACTCCACTAGTAC, 7_TAAGCGTGTAAGGGCT, 20_ATCTGCCCAGATGGGT, 21_GAATAAGGTTAAGATG, 21_GTATTCTCATGGATGG, 22_CCTTCCCGTCAATACC, 27_ACTTTCAAGTTGAGTA, 27_CGATGTAAGAGTGACC, 28_TAGCCGGGTGGGTCAA, 28_TCCACACAGACCGGAT, 33_ACCAGTAGTCATTAGC, 33_ACGCAGCGTTCCATGA, 33_CAGCAGCGTCACCTAA, 33_CCTTTCTCATGTAGTC, 33_CTGAAGTTCATGTAGC, 33_CTTAACTAGACCCACC, 33_GTACTCCGTTATCGGT, 33_TACTTGTGTCGCATCG, 33_TGGCCAGAGTCGTACT, 33_TGGGAAGGTCCGAATT, 33_TTCTACATCCATGCTC, 34_AAACGGGGTGTTTGGT, 34_AACGTTGTCTGTTGAG, 34_ACCAGTAGTAGTAGTA, 34_ACGCCAGCAAAGCAAT, 34_ACGTCAATCGTGACAT, 34_AGGCCGTCAAGCTGTT, 34_ATCCGAAGTCTTGATG, 34_CACACCTCACATGTGT, 34_CATCCACAGTAACCCT, 34_CGTCTACCAAGCCTAT, 34_GCTCCTACATTTGCTT, 34_GTTAAGCGTATATGAG, 34_TACGGATAGCCCGAAA, 34_TATTACCCAGCTATTG, 34_TCATTACCAGCCTATA, 34_TGACTTTGTAGCCTAT, 34_TTCGAAGCACAAGCCC, 37_AACACGTTCCTAGGGC, 37_CGTCTACTCTGCGGCA, 37_TGCCCATCAGTAAGCG, 38_GTGTGCGGTCAATGTC,",
"39_ACACCGGAGGTGATAT, 39_CAGAGAGTCTAAGCCA, 39_CTCACACTCTAACTTC, 39_GTTACAGGTTTACTCT, 40_GGGTCTGGTAGCAAAT, 40_TGCTACCAGGGCATGT, 21_AAATGCCCAATGGTCT, 34_AGAGCGAGTTAAGGGC, 34_TGTCCCACACGCCAGT, 44_CACTCCACAGGTCGTC, 6_CAGCCGACACCAGATT, 22_AGTTGGTCACATGTGT, 37_AGTGAGGAGCTCCTTC, 6_CACAAACGTAAATGTG, 6_TTTACTGAGGCGATAC, 7_CAGCAGCAGTACTTGC, 7_CGACCTTAGAGTGACC, 7_CTGTGCTCAACCGCCA, 19_AAAGTAGGTCAGCTAT, 19_ACTTACTAGAGCTGGT, 19_CATCGAATCTAGCACA, 19_CTAGCCTTCACTGGGC, 19_GCTGCGAAGGCAGGTT, 19_TAGTTGGTCCTCAACC, 19_TGACGGCCAGGGTTAG, 20_AGGCCACCAATCCAAC, 20_GCTCTGTAGCTACCTA, 20_GTATTCTTCCCGACTT, 22_GCTGGGTCATACGCCG, 27_AGAGCTTTCATACGGT, 27_AGCTTGAAGCACCGTC, 27_TACACGAAGCCACGCT, 28_CCACTACTCGATCCCT, 28_CGGACACGTAAAGTCA, 28_TCCCGATGTAATAGCA, 28_TTGAACGAGGTGGGTT, 33_AAGGAGCGTAAGTGGC, 33_CAAGTTGAGAAGGCCT, 33_CGACTTCTCCGTAGGC, 33_GATGAGGGTCCAGTGC, 33_GCAGTTAAGTGGGATC, 33_GCTTGAAAGAGGTAGA, 33_TAGTTGGAGGAGTTTA, 33_TGCCAAATCTCGCTTG, 34_ACACCGGGTGTTTGTG, 34_AGCCTAAGTTAAGAAC, 34_CGACCTTAGCTCTCGG, 34_CTAACTTGTGCTTCTC, 34_GCTGCAGAGCCTATGT, 34_GGAACTTTCCGATATG, 34_TGTCCCAGTAAACGCG, 38_CCACCTACAAACCCAT, 39_CCGGTAGAGAGACTTA, 40_AGAGTGGCACAGGTTT, 40_ATTACTCAGATAGGAG, 40_TGAGAGGGTGAAGGCT, 40_TGTGGTAGTTATGCGT, 43_ATAACGCTCCGCGCAA, 43_CCTACCATCACAAACC, 43_GCTTCCAAGTTAGCGG, 43_GTCCTCAAGGCTACGA, 44_AAAGTAGGTTTGTTGG, 44_CCACCTACACATTCGA, 44_CGATTGATCCACGAAT, 22_CCTACCAAGCGACGTA, 34_GTGAAGGCATCTACGA, 40_TACTTGTTCAAGGTAA, 6_CGAGCCAAGCTACCGC, 7_ACGAGGAGTTCACGGC, 7_CAAGTTGCAGGTCGTC, 7_CAGCATAAGGTACTCT,",
"7_GCCAAATCAGCGTAAG, 7_GCTGGGTTCTGGTTCC, 7_GTTCGGGCAGACGCCT, 19_AGCGGTCCACGCGAAA, 19_TCGAGGCTCGGAGCAA, 20_CTCGTCACACGAAATA, 20_GGTGCGTTCCAGAAGG, 21_TCTGAGAAGGATGCGT, 22_ACAGCCGTCAAACGGG, 22_GTCCTCAGTTGAGGTG, 27_GTCACGGAGCAGGTCA, 28_CTAGCCTCACTCAGGC, 33_TCACAAGCAAGACACG, 34_AAACCTGCACTGCCAG, 34_AACCGCGTCTACGAGT, 34_CACATAGAGAGTGACC, 34_CATGGCGAGCAATATG, 34_CGATCGGAGGTGGGTT, 34_CGCTTCAGTGATGTCT, 34_CTAACTTCAGGAATGC, 34_CTCGTCAGTTTGTGTG, 34_CTTAACTAGCTGAACG, 34_GAACCTAAGTTGAGAT, 34_GACTACAAGACCTTTG, 34_GTTACAGAGCTAGGCA, 34_GTTACAGGTGGCGAAT, 34_TACTTACAGCCAGTAG, 37_ATAACGCGTCTCACCT, 38_GAAGCAGGTACGCTGC, 38_TGAAAGAGTTCGTCTC, 38_TGAAAGATCCCAAGAT, 39_ACGGGTCGTGCAACGA, 39_CGCTATCGTGTGCGTC, 39_GACACGCAGTACGATA, 39_GCACTCTAGAGTTGGC, 39_TTGAACGTCAACGGGA, 40_CGTTGGGGTGGGTCAA, 40_CTCGAGGTCTTACCGC, 40_CTGAAGTCAGAAGCAC, 40_TGGGCGTTCGACAGCC, 43_AAACGGGAGCTAGTTC, 43_CACTCCAAGTGTCCAT, 43_CCATGTCGTAAGGGAA, 43_CTCTACGTCGAATGCT, 43_TGCGTGGTCCCTTGTG, 44_AGCTTGAGTCCGACGT, 44_ATGCGATGTTCTGGTA, 44_CCCATACTCCACGAAT, 44_CCTTACGGTTCAACCA, 44_CTCGTCAAGCTAGCCC, 44_TACTCGCTCGGACAAG")

defaultValues[["selectIds"]] = ""
defaultValues[["pcaN"]] = 2000
defaultValues[["pcaScale"]] = TRUE
defaultValues[["sampleInput"]] =FALSE
defaultValues[["whichscLog"]] = "calcLog"
defaultValues[["normalizationRadioButton"]] = "DE_seuratLogNorm"
defaultValues[["hvgSelection"]] = "vst"
defaultValues[["alluiv1"]] = "seurartCluster"
defaultValues[["alluiv2"]] = "dbCluster"
defaultValues[["tabsetCluster"]] = "seurat_Clustering"
defaultValues[["minGenesGS"]] = 1
defaultValues[["minGenes"]] = 1
defaultValues[["seurClustDims"]] = 10
defaultValues[["seurClustk.param"]] = 20
defaultValues[["useSeuratPCA"]] = TRUE


assign("defaultValues", defaultValues, envir = .schnappsEnv)




devscShinyApp = TRUE
packagePath <<- "inst/app"
source(paste0(packagePath,  "/ui.R"))
source(paste0(packagePath,  "/server.R"))

app <- shinyApp(ui = scShinyUI, server = scShinyServer, enableBookmarking = "server")
options(shiny.reactlog=TRUE)
runApp(app)

# schnapps(Ã
# defaultValueMultiGenes = "IL7R, CCR7,CD14, LYZ ,IL7R, S100A4,MS4A1 ,CD8A,FCGR3A, MS4A7 ,GNLY, NKG7,FCER1A, CST3,PPBP",
# defaultValueSingleGene = "MS4A1", DEBUG=TRUE
# )


# sctkEx = SCtkExperiment(assays=list(counts=as.matrix(assays(scEx)[['counts']]), 
#                                     logcounts = as.matrix(assays(scEx)[['logcounts']])),
#                         colData = colData(scEx),
#                         rowData = rowData(scEx))
# singleCellTK(inSCE = sctkEx)




